<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>рж░рж┐ржкрзЛрж░рзНржЯ ржПржбрж┐ржЯ ржХрж░рзБржи</title>
  <style>
    body {
      font-family: "Siyam Rupali", sans-serif;
      background: #fffdee;
      max-width: 600px;
      margin: auto;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #d35400;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      font-size: 15px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    .submit-btn {
      margin-top: 20px;
      background-color: #d35400;
      color: white;
      border: none;
      padding: 10px;
      font-size: 18px;
      border-radius: 10px;
      cursor: pointer;
      width: 100%;
    }
    .submit-btn:hover {
      background-color: #a04000;
    }
	
	.institute-header {
	  text-align: center;
	  margin-bottom: 10px;
	  margin-top: 10px;
	  font-family: 'Siyam Rupali', sans-serif;
	}

	.institute-header .logo {
	  width: 100px;
	  height: auto;
	  vertical-align: middle;
	  margin-bottom: 0px;
	}

	.institute-header h1 {
	  color: #007f5f;
	  margin: 5px 0 2px 0; /* ржЙржкрж░рзЗ ржирж┐ржЪрзЗ ржлрж╛ржБржХрж╛ ржХржо */
	  font-size: 24px;
	}

	.institute-header h3 {
	  color: #555;
	  margin: 2px 0 10px 0;
	  font-size: 16px;
	  font-weight: normal;
	}
	
  </style>
</head>
<div style="text-align: center; margin: 20px 0;">
  <a href="https://hasanbdt.github.io/daily-st-report/" style="margin: 0 10px;">ЁЯУе рж░рж┐ржкрзЛрж░рзНржЯ ржЬржорж╛</a>
  <a href="https://hasanbdt.github.io/daily-st-report/list" style="margin: 0 10px;">ЁЯУЛ рж░рж┐ржкрзЛрж░рзНржЯ рждрж╛рж▓рж┐ржХрж╛</a>
  <a href="https://hasanbdt.github.io/daily-st-report/list-final" style="margin: 0 10px;">тнР ржЪрзВрзЬрж╛ржирзНржд ржлрж▓рж╛ржлрж▓</a>
  <a href="https://hasanbdt.github.io/daily-st-report/edit" style="margin: 0 10px;">тЬПя╕П рж░рж┐ржкрзЛрж░рзНржЯ ржПржбрж┐ржЯ</a>
</div>
<body>
	<script>
  // тЫФ рж╢рзБржзрзБ ржжрзЗржЦрж╛ржирзЛрж░ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб рж╕рж┐рж╕рзНржЯрзЗржо (ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржЫрж╛рзЬрж╛)
  const correctPassword = "1989"; // ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржПржЦрж╛ржирзЗ ржжрж┐ржи

  const userPassword = prompt("ЁЯФР ржПржЗ ржкрзЗржЗржЬ ржжрзЗржЦрждрзЗ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржжрж┐ржи:");

  if (userPassword !== correctPassword) {
    document.body.innerHTML = "<h2 style='color:red; text-align:center; margin-top:100px;'>тЫФ ржнрзБрж▓ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб! ржЕржирзБржЧрзНрж░рж╣ ржХрж░рзЗ рж╕ржарж┐ржХ ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржжрж┐ржиред</h2>";
  }
</script>

	
<div class="institute-header">
  <img src="epi.png" alt="Logo" class="logo" />
  <h1>ржЗржкрж┐ржЖржЗ ржПржХрж╛ржбрзЗржорж┐, ржврж╛ржХрж╛</h1>
  <h3>рж╕рзНржмржкрзНржи ржкрзВрж░ржгрзЗ ржЖржЧрж╛ржорзАрж░ ржкржерзЗ...</h3>
</div>

  <h2>ЁЯУЭ рж░рж┐ржкрзЛрж░рзНржЯ ржПржбрж┐ржЯ ржХрж░рзБржи</h2>
  <form id="editForm">
    <label>рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзАрж░ ржирж╛ржо:</label>
    <input type="text" id="studentName" required>

    <label>ржХрзНрж▓рж╛рж╕:</label>
    <input type="text" id="studentClass" required>

    <label>рж░рзЛрж▓:</label>
    <input type="text" id="studentRoll" required>

    <label>рзз. ржЖржЬржХрзЗрж░ ржжрж┐ржиржЯрж┐ ржХрзЗржоржи ржЫрж┐рж▓?</label>
    <select id="dayFeeling">
      <option>ЁЯШГ ржЦрзБржм ржнрж╛рж▓рзЛ</option>
      <option>ЁЯЩВ ржорзЛржЯрж╛ржорзБржЯрж┐</option>
      <option>ЁЯШР ржЦрж╛рж░рж╛ржк</option>
    </select>

    <label>рзи. ржЖржорж┐ ржЖржЬ ржХрзА рж╢рж┐ржЦрзЗржЫрж┐?</label>
    <select id="learned">
      <option>ЁЯУШ ржирждрзБржи ржжрзЛрзЯрж╛/ржоржирзНрждрзНрж░</option>
      <option>ЁЯУЧ ржХрзЛрж░ржЖржирзЗрж░ ржЖрзЯрж╛ржд/ржЧрзАрждрж╛рж░ рж╢рзНрж▓рзЛржХ</option>
      <option>ЁЯУЩ ржЧржгрж┐ржд/ржмрж┐ржЬрзНржЮрж╛ржи</option>
      <option>ЁЯУХ ржЗрж╕рж▓рж╛ржорж┐ржХ ржЖржжржм/ржзрж░рзНржорзАрзЯ ржЖржжржм</option>
      <option>ЁЯд╖ ржХрж┐ржЫрзБ рж╢рж┐ржЦрж┐ржирж┐</option>
    </select>

    <label>рзй. ржЖржЬ ржЖржорж┐ ржХрзА ржнрж╛рж▓рзЛ ржХрж╛ржЬ ржХрж░рзЗржЫрж┐?</label>
    <select id="goodDeed">
      <option>ЁЯХМ ржХрж╛ржЙржХрзЗ ржирж╛ржорж╛ржЬ ржкрзЬрж┐рзЯрзЗржЫрж┐/ржХрж╛ржЙржХрзЗ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░рж┐рзЯрзЗржЫрж┐</option>
      <option>ЁЯСР рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗржЫрж┐</option>
      <option>ЁЯШК ржнрж╛рж▓рзЛ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржЫрж┐</option>
      <option>ЁЯШЗ ржорж┐ржерзНржпрж╛ ржмрж▓рж┐ржирж┐</option>
      <option>ЁЯЩБ ржХрж┐ржЫрзБ ржХрж░рж┐ржирж┐</option>
    </select>

    <label>рзк. ржЖржЬ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рзЗржЫрж┐?</label>
    <select id="mistake">
      <option>ЁЯУ▒ ржорзЛржмрж╛ржЗрж▓ ржмрзЗрж╢рж┐ ржжрзЗржЦрзЗржЫрж┐</option>
      <option>ЁЯУЪ ржкрзЬрж╛ ржирж╛ ржХрж░рзЗржЫрж┐</option>
      <option>ЁЯШб рж░рж╛ржЧ ржХрж░рзЗржЫрж┐</option>
      <option>ЁЯЩК ржорж┐ржерзНржпрж╛ ржмрж▓рзЗржЫрж┐</option>
      <option>тЬЕ ржХрзЛржирзЛ ржнрзБрж▓ ржХрж░рж┐ржирж┐</option>
    </select>

    <label>рзл. ржЖржЬ ржЖржорж┐ ржХрж╛ржХрзЗ ржнрж╛рж▓рзЛржмрзЗрж╕рзЗ ржХржерж╛ ржмрж▓рзЗржЫрж┐?</label>
    <select id="lovedPerson">
      <option>ЁЯСй ржорж╛</option>
      <option>ЁЯСи ржмрж╛ржмрж╛</option>
      <option>ЁЯСитАНЁЯПл рж╢рж┐ржХрзНрж╖ржХ</option>
      <option>ЁЯСз ржмржирзНржзрзБ</option>
      <option>ЁЯдР ржХрж╛ржЙржХрзЗ ржмрж▓рж┐ржирж┐</option>
    </select>

    <label>рзм. ржЖржЬ ржХрзА ржирж┐рзЯрзЗ ржмрзЗрж╢рж┐ ржнрж╛ржмржЫрж┐рж▓рж╛ржо?</label>
    <select id="thoughtAbout">
      <option>ЁЯУЦ ржкрзЬрж╛рж▓рзЗржЦрж╛</option>
      <option>тЪ╜ ржЦрзЗрж▓рж╛ржзрзБрж▓рж╛</option>
      <option>ЁЯХЛ ржЖрж▓рзНрж▓рж╛рж╣/рж╕рзНрж░рж╖рзНржЯрж╛</option>
      <option>ЁЯШ┤ ржШрзБржо/ржЕрж▓рж╕рждрж╛</option>
      <option>ЁЯЩВ ржХрж┐ржЫрзБ ржирж╛</option>
    </select>

    <label>рзн. ржЖржЬ ржЖржорж┐ ржХрзЯ ржмрж╛рж░ ржкрзНрж░рж╛рж░рзНржержирж╛ ржХрж░рзЗржЫрж┐?</label>
    <select id="prayerTimes">
      <option>ЁЯХЛ рзл ржмрж╛рж░</option>
      <option>ЁЯХМ рзй-рзк ржмрж╛рж░</option>
      <option>ЁЯШХ рзз-рзи ржмрж╛рж░</option>
      <option>ЁЯЩБ рзз ржмрж╛рж░ржУ ржирж╛</option>
    </select>

    <label>рзо. ржЖржЬ ржЖржорж┐ ржХрждржмрж╛рж░ ржЖрж▓рзНрж▓рж╛рж╣ржХрзЗ/рж╕рзНрж░рж╖рзНржЯрж╛ржХрзЗ рж╕рзНржорж░ржг ржХрж░рзЗржЫрж┐?</label>
    <select id="rememberAllah">
      <option>ЁЯФЯ рззрзж ржмрж╛рж░рзЗрж░ ржмрзЗрж╢рж┐</option>
      <option>тЮР рзл-рззрзж ржмрж╛рж░</option>
      <option>тЮМ рзз-рзк ржмрж╛рж░</option>
      <option>ЁЯЩБ ржПржХржмрж╛рж░ржУ ржирж╛</option>
    </select>

    <button type="submit" class="submit-btn">ЁЯФБ ржЖржкржбрзЗржЯ ржХрж░рзБржи</button>
  </form>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDwKp_6znRl7TkIpXa3uFuZGOUxSHnkHOM",
      authDomain: "dailyreport-9512d.firebaseapp.com",
      databaseURL: "https://dailyreport-9512d-default-rtdb.firebaseio.com",
      projectId: "dailyreport-9512d",
      storageBucket: "dailyreport-9512d.firebasestorage.app",
      messagingSenderId: "469725849063",
      appId: "1:469725849063:web:3d82a4560478d1b11f8942"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    const form = document.getElementById('editForm');

    function setValue(id, value) {
      document.getElementById(id).value = value || "";
    }

    function getValue(id) {
      return document.getElementById(id).value;
    }

    // ржбрж╛ржЯрж╛ рж▓рзЛржб
    if (id) {
      db.ref("dailyReports/" + id).once('value').then(snapshot => {
        const data = snapshot.val();
        if (data) {
          setValue("studentName", data.studentName);
          setValue("studentClass", data.studentClass);
          setValue("studentRoll", data.studentRoll);
          setValue("dayFeeling", data.dayFeeling);
          setValue("learned", data.learned);
          setValue("goodDeed", data.goodDeed);
          setValue("mistake", data.mistake);
          setValue("lovedPerson", data.lovedPerson);
          setValue("thoughtAbout", data.thoughtAbout);
          setValue("prayerTimes", data.prayerTimes);
          setValue("rememberAllah", data.rememberAllah);
        }
      });
    }

    // рж╕рж╛ржмржорж┐ржЯ
    form.addEventListener('submit', function(e) {
      e.preventDefault();

      const updatedData = {
        studentName: getValue("studentName"),
        studentClass: getValue("studentClass"),
        studentRoll: getValue("studentRoll"),
        dayFeeling: getValue("dayFeeling"),
        learned: getValue("learned"),
        goodDeed: getValue("goodDeed"),
        mistake: getValue("mistake"),
        lovedPerson: getValue("lovedPerson"),
        thoughtAbout: getValue("thoughtAbout"),
        prayerTimes: getValue("prayerTimes"),
        rememberAllah: getValue("rememberAllah"),
        timestamp: new Date().toISOString()
      };

      db.ref("dailyReports/" + id).set(updatedData).then(() => {
        alert("тЬЕ рж░рж┐ржкрзЛрж░рзНржЯ рж╕ржлрж▓ржнрж╛ржмрзЗ ржЖржкржбрзЗржЯ рж╣рзЯрзЗржЫрзЗ!");
        window.location.href = "list.html";
      });
    });
  </script>
</body>
</html>
